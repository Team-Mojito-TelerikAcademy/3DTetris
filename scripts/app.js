(function () {
    require.config({
        paths: {
            "app": "app"
        }
    });


}());

(function () {
    require.config({
        paths: {
            "app": "app"
        }
    });

    require(['libs/raphael', 'libs/jquery-2.1.4.min'], function (Raphael) {

        function displayEndGameScreen() {
            $('#viewport').hide();
            $('#end-screen').show();

            var paper = Raphael('end-screen', window.innerWidth, window.innerHeight);
            //creates letter GAME OVER
            paper.path('M 100.32 105.37 C 107.33 105.37 114.36 105.16 121.37 105.54 C 121.35 106.92 121.33 108.30 121.32 109.68 C 122.97 109.90 124.62 110.18 126.25 110.56 C 126.24 113.53 126.22 116.49 126.20 119.46 C 123.88 119.58 121.56 119.71 119.24 119.75 C 119.04 117.38 118.86 115.02 118.70 112.66 C 113.52 112.65 108.34 112.64 103.17 112.67 C 103.22 123.20 102.97 133.73 103.37 144.25 C 105.24 141.88 106.86 138.79 109.99 137.95 C 112.89 137.02 115.64 138.92 118.27 139.86 C 118.26 137.14 118.26 134.42 118.24 131.70 C 115.35 131.58 112.46 131.50 109.58 131.41 C 109.57 129.09 109.58 126.78 109.61 124.47 C 115.00 124.24 120.43 123.96 125.81 124.47 C 126.63 132.81 126.44 141.32 125.51 149.66 C 124.24 149.57 122.98 149.49 121.72 149.42 C 121.49 151.40 121.27 153.39 121.03 155.37 C 120.83 154.17 120.63 152.97 120.44 151.77 C 119.23 150.09 118.03 148.41 116.88 146.70 C 114.09 145.75 110.91 144.69 108.07 146.00 C 104.71 148.16 102.74 151.80 100.94 155.24 C 100.78 154.57 100.47 153.24 100.31 152.57 C 100.03 150.46 97.14 150.47 96.43 148.65 C 95.31 145.57 95.61 142.21 95.54 138.99 C 95.65 129.26 95.42 119.52 95.69 109.79 C 97.03 109.73 98.38 109.68 99.72 109.63 C 99.92 108.21 100.12 106.79 100.32 105.37 Z');
            paper.path('M 145.50 105.37 C 152.49 105.35 159.49 105.23 166.49 105.47 C 166.53 106.87 166.57 108.27 166.61 109.67 C 168.19 109.88 169.78 110.15 171.34 110.53 C 171.20 118.01 171.59 125.51 170.88 132.96 C 170.33 138.96 170.42 145.00 171.00 150.99 C 170.79 152.56 170.59 154.12 170.39 155.69 C 170.00 155.62 169.21 155.49 168.82 155.42 C 166.83 152.87 164.31 150.41 163.85 147.05 C 163.26 142.23 163.71 137.35 163.49 132.50 C 161.18 132.46 158.86 132.44 156.55 132.45 C 154.66 134.78 152.81 137.14 151.02 139.55 C 150.43 139.58 149.25 139.65 148.66 139.68 C 148.39 145.33 148.25 151.00 147.43 156.61 C 145.59 151.87 140.63 148.41 140.70 143.00 C 140.64 133.64 140.78 124.29 140.66 114.93 C 140.84 113.39 140.32 111.56 141.25 110.22 C 142.47 109.86 143.70 109.54 144.95 109.28 C 145.13 107.97 145.31 106.67 145.50 105.37 Z');
            paper.path('M 186.76 105.55 C 189.27 105.43 191.78 105.41 194.29 105.47 C 194.31 106.87 194.34 108.26 194.36 109.66 C 195.70 109.66 197.04 109.66 198.38 109.66 C 198.53 111.23 198.67 112.80 198.81 114.37 C 200.94 114.41 203.06 114.46 205.19 114.51 C 205.31 112.91 205.45 111.32 205.59 109.73 C 206.97 109.74 208.35 109.76 209.73 109.79 C 209.94 108.30 210.14 106.81 210.36 105.33 C 212.70 105.39 215.04 105.47 217.38 105.58 C 217.85 127.75 214.66 149.76 214.39 171.91 C 213.55 173.60 212.73 175.31 211.92 177.02 C 209.82 172.94 208.96 168.41 209.52 163.85 C 209.29 165.43 209.05 167.00 208.78 168.57 C 208.34 160.71 208.27 152.82 208.81 144.96 C 209.74 137.19 210.01 129.31 209.01 121.54 C 208.78 123.03 208.55 124.53 208.34 126.03 C 207.79 125.86 206.69 125.52 206.14 125.34 C 204.14 121.77 199.91 121.89 196.35 121.50 C 196.26 120.16 196.18 118.81 196.09 117.47 L 194.36 117.44 C 193.97 126.64 194.58 135.87 194.28 145.06 C 192.84 149.02 189.05 151.92 188.86 156.42 C 187.75 150.66 187.31 144.83 186.64 139.02 C 185.47 127.88 187.25 116.71 186.76 105.55 Z');
            paper.path('M 233.23 105.39 C 243.32 105.38 253.42 105.14 263.51 105.53 C 263.53 107.84 263.54 110.16 263.54 112.48 C 255.96 112.84 248.38 112.56 240.81 112.68 C 240.77 114.96 240.72 117.24 240.68 119.52 C 246.66 119.40 252.69 118.79 258.66 119.44 C 259.92 121.41 259.06 124.25 259.37 126.55 C 255.65 126.80 251.90 126.61 248.21 127.15 C 244.98 127.47 242.82 130.13 240.58 132.17 C 240.45 137.55 240.20 143.04 241.87 148.24 C 243.80 144.83 245.83 141.44 248.44 138.48 C 253.38 137.80 258.37 137.46 263.36 137.71 C 263.56 141.30 263.43 144.91 262.58 148.42 C 257.61 149.04 252.65 149.88 247.62 149.59 C 245.20 151.32 242.88 153.19 240.80 155.32 C 240.07 155.37 238.61 155.48 237.87 155.53 C 236.18 152.72 233.74 150.08 233.42 146.68 C 232.52 132.94 232.50 119.14 233.23 105.39 Z');
            paper.path('M 304.61 105.55 C 314.81 105.23 325.04 105.12 335.24 105.61 C 335.36 117.08 335.07 128.56 335.44 140.03 C 335.56 142.24 335.14 144.43 334.59 146.57 C 333.19 146.54 331.80 146.50 330.41 146.47 C 329.59 147.54 328.78 148.61 327.99 149.70 C 324.64 149.45 321.29 148.14 317.92 148.73 C 313.15 149.64 310.75 155.21 305.60 154.90 C 303.34 138.54 304.71 122.00 304.61 105.55 Z');
            paper.path('M 350.35 105.34 C 352.70 105.36 355.04 105.41 357.39 105.50 C 357.62 113.01 357.42 120.67 359.23 128.02 C 359.70 128.89 360.65 130.64 361.12 131.52 C 361.32 130.37 361.71 128.07 361.90 126.91 C 362.27 128.67 362.69 130.41 363.16 132.14 C 363.47 134.64 363.80 137.14 364.29 139.61 C 364.94 135.05 364.43 130.45 364.79 125.89 C 365.91 124.96 367.17 124.21 368.30 123.29 C 368.96 117.42 368.28 111.47 368.58 105.57 C 370.95 105.44 373.33 105.34 375.71 105.27 C 376.47 112.39 376.39 119.58 375.78 126.71 C 374.37 126.74 372.97 126.78 371.57 126.82 C 371.55 129.88 371.52 132.95 371.44 136.02 C 370.15 136.58 368.87 137.15 367.58 137.73 C 367.63 143.41 368.09 149.37 365.22 154.54 C 364.07 154.53 362.92 154.54 361.78 154.54 C 361.48 151.52 360.96 148.53 360.42 145.55 C 359.55 144.60 358.67 143.65 357.81 142.70 C 357.46 141.45 357.10 140.20 356.74 138.96 C 356.62 137.16 356.52 135.37 356.41 133.58 C 354.18 131.03 350.81 128.81 350.72 125.08 C 350.35 118.51 350.11 111.92 350.35 105.34 Z');
            paper.path('M 391.35 105.43 C 401.43 105.71 411.52 105.05 421.61 105.47 C 421.65 107.83 421.66 110.19 421.64 112.55 C 417.43 112.73 413.19 112.44 409.00 112.88 C 405.44 113.57 402.13 115.31 399.17 117.36 C 397.81 120.88 397.94 124.79 397.49 128.49 C 397.94 128.51 398.85 128.54 399.30 128.56 C 401.56 125.79 403.72 122.83 406.65 120.72 C 409.81 118.55 413.83 119.36 417.41 119.41 C 417.41 121.77 417.40 124.13 417.39 126.49 C 413.77 126.82 410.00 126.58 406.54 127.82 C 403.67 129.77 401.35 132.43 399.17 135.10 C 396.83 137.80 397.66 141.61 397.42 144.88 C 398.06 144.78 399.34 144.58 399.98 144.48 C 402.12 141.86 404.17 138.27 407.92 137.99 C 412.43 138.27 416.93 138.79 421.46 138.61 C 421.82 142.63 421.87 146.68 421.57 150.71 C 419.32 150.68 417.08 150.64 414.84 150.56 C 412.24 148.02 409.10 144.47 405.02 145.85 C 400.90 147.89 398.41 152.02 395.51 155.42 C 394.59 155.43 393.68 155.45 392.77 155.47 C 391.86 153.07 390.77 150.65 390.64 148.05 C 390.21 133.84 391.04 119.63 391.35 105.43 Z');
            paper.path('M 435.38 105.45 C 443.83 105.81 452.27 105.12 460.72 105.40 C 460.79 106.81 460.85 108.22 460.92 109.64 C 462.46 109.89 464.01 110.14 465.56 110.41 C 465.59 115.77 465.58 121.13 465.58 126.49 C 464.28 126.87 462.99 127.24 461.71 127.61 C 463.59 132.88 460.59 139.14 464.19 143.81 C 464.91 143.79 466.35 143.76 467.08 143.75 C 468.43 150.44 469.39 157.21 469.84 164.03 C 469.91 165.26 469.28 166.35 468.88 167.46 C 467.87 166.46 466.91 165.46 465.88 164.50 L 468.77 163.01 C 468.05 162.53 466.62 161.56 465.91 161.08 C 463.18 156.79 460.42 152.47 458.72 147.65 C 457.12 142.94 452.93 139.97 449.69 136.46 C 449.29 135.33 448.85 134.24 448.36 133.16 C 446.50 135.40 444.47 137.50 442.52 139.67 C 442.38 144.66 442.05 149.64 441.40 154.59 C 439.79 154.58 438.20 154.57 436.60 154.57 C 433.73 147.72 434.95 140.20 434.71 133.00 C 434.85 123.82 434.36 114.59 435.38 105.45 Z');

            paper.forEach(function (el) {
                el.attr({
                    stroke: "#c70015",
                    fill: "#c70015"
                }).translate(600, 200);
            });
        }

        var startGame = function () {
            Engine.getEngine(Block, Tetris, Utilities, displayEndGameScreen);
            Engine.run();
            $('#showGuide').attr({
                cursor: 'pointer'
            }).click(function () {
                console.log(guideScreen);
                guideScreen();

            });
        };

        var width = window.innerWidth,
            height = window.innerHeight;

        $('#viewport').css('width', width).css('height', height);

        var r = Raphael("viewport");

        var textMojito = r.text(0, height / 3, 'Team "Mojito"').attr({
            font: '10px "Consolas',
            fill: "white",
            opacity: 0.1
        });

        var textMojitoWidth = textMojito.getBBox().width;
        var textMojitoRotated = [{
            x: width / 2 - textMojitoWidth / 2,
            opacity: 1,
            transform: "r360s8"
        }, {
            transform: ""
        }];

        var textPresents = r.text(width / 1.5, -10, 'presents').attr({
            font: '6px Consolas',
            fill: 'white',
            opacity: 0.1
        });

        var textPresentsWidth = textPresents.getBBox().width;
        var textPresentsRotated = [{
            x: width / 2 - textPresentsWidth / 2,
            y: height / 2,
            opacity: 1,
            transform: "r0s6"
        }, {
            transform: ""
        }];

        var animateMojito = Raphael.animation(textMojitoRotated[0], 4000, 'elastic', function () {
            this.hide();
        });
        textMojito.animate(animateMojito);

        var animatePresents = Raphael.animation(textPresentsRotated[0], 3000, 'bounce', function () {
            this.hide();
        });

        textPresents.animate(animatePresents.delay(1000));

        var logo = r.path("m 271.95515,315.2772 c -0.84782,0 -2.01463,0.21263 -3.49832,0.63654 -4.80434,1.41304 -9.74909,2.36729 -14.83603,2.86185 -5.01629,0.42392 -13.03515,0.63483 -24.05686,0.63483 l -54.47329,0 c -7.91303,0 -13.24747,0.31809 -16.00289,0.95396 -2.19021,0.5652 -3.95539,1.73208 -5.29778,3.49838 -1.34239,1.7663 -2.01405,3.77856 -2.01405,6.03941 0,4.16847 2.01276,6.85374 6.03991,8.05483 2.68478,0.77718 4.4522,1.44849 5.30002,2.01371 0.84783,0.56521 1.62496,1.55461 2.33148,2.96765 3.3913,7.13585 5.08542,24.33897 5.08542,51.61062 0,18.08689 -1.16457,32.46413 -3.49608,43.13257 -0.56522,2.61412 -1.379,4.59292 -2.43877,5.93532 -0.98913,1.34238 -2.54339,2.47239 -4.66295,3.39087 -3.03804,1.41304 -4.97974,2.57992 -5.82756,3.49839 -0.84782,0.91848 -1.27192,2.40173 -1.27192,4.45063 0,2.89673 0.98806,5.15676 2.96632,6.78175 1.97825,1.55434 4.77038,2.33283 8.37363,2.33283 l 89.86785,0 c 7.55975,0.21196 13.60251,0.74096 18.12424,1.58878 2.54346,0.42391 4.48517,0.63654 5.82755,0.63654 1.625,0 2.96833,-0.42354 4.02811,-1.27137 1.05978,-0.77717 2.40088,-2.36759 4.02586,-4.76976 3.17935,-4.94562 5.86377,-10.59741 8.05398,-16.95609 2.19022,-6.35867 3.28597,-11.65721 3.28597,-15.89632 0,-3.88586 -0.98806,-7.10185 -2.96631,-9.64532 -1.9076,-2.61412 -4.34669,-3.91991 -7.31407,-3.91991 -2.54347,0 -4.62728,0.70648 -6.25229,2.11952 -1.55433,1.41304 -3.31953,4.16862 -5.29778,8.26643 -3.39129,7.13584 -7.77209,12.08116 -13.14163,14.83658 -5.36955,2.68478 -13.35402,4.02742 -23.9518,4.02742 -6.85323,0 -11.76359,-0.38839 -14.73097,-1.16557 -2.89673,-0.84782 -4.6275,-2.33277 -5.19272,-4.45233 -0.49456,-1.69565 -0.98971,-5.15771 -1.48428,-10.38595 -0.4239,-5.29889 -0.63483,-9.60804 -0.63483,-12.92867 0,-5.4402 0.56396,-9.15004 1.69439,-11.12829 1.20109,-2.04892 3.3926,-3.07347 6.57193,-3.07347 8.26628,0 12.92906,3.99277 13.98884,11.97643 0.49456,3.88586 1.20064,6.46397 2.11911,7.73571 0.91847,1.20108 2.57821,1.8021 4.98036,1.8021 3.88587,0 6.78346,-1.94366 8.69105,-5.82951 3.46195,-7.13585 5.19272,-16.28484 5.19272,-27.44785 0,-5.65215 -0.52954,-11.05616 -1.58933,-16.21375 -0.98912,-5.22823 -2.22476,-8.86777 -3.70844,-10.91667 -2.04891,-2.75543 -4.52241,-4.13322 -7.41914,-4.13322 -1.97825,0 -3.70903,0.63616 -5.19272,1.9079 -1.41304,1.13043 -2.40333,2.47307 -2.96854,4.02741 -0.49457,1.48369 -0.98748,4.27443 -1.48205,8.37224 -0.35326,3.17934 -1.20144,5.40421 -2.54383,6.67595 -1.34238,1.20108 -3.49726,1.80209 -6.46464,1.80209 -6.00541,0 -9.71454,-0.49384 -11.12758,-1.48297 -1.41304,-1.05978 -2.11911,-3.7099 -2.11911,-7.94902 0,-10.73909 0.0688,-17.41544 0.21012,-20.02956 0.21196,-2.61412 0.77816,-4.69838 1.69664,-6.25273 1.76629,-2.89672 6.71105,-4.34482 14.83603,-4.34482 10.88039,0 18.68834,0.81193 23.42201,2.43693 4.80434,1.55433 8.76104,4.69831 11.86973,9.43199 2.19019,3.32065 3.92097,5.47521 5.19271,6.46434 1.34239,0.91847 3.17863,1.37888 5.51015,1.37888 3.39128,0 6.0413,-1.30749 7.94891,-3.92161 1.97826,-2.68477 2.96855,-6.32431 2.96855,-10.91668 0,-9.1141 -2.33363,-16.8853 -6.99665,-23.31462 -2.82608,-3.95651 -6.07447,-5.93532 -9.74838,-5.93532 z m -147.83947,0.84815 c -1.625,0 -3.49788,0.28292 -5.61744,0.84815 -4.94564,1.41303 -10.41995,2.22497 -16.42536,2.43692 l -55.850272,0 c -3.179337,0 -6.005872,-0.14061 -8.47869,-0.42322 -2.402166,-0.28261 -5.510685,-0.81331 -9.325889,-1.59049 -1.83695,-0.42391 -3.462264,-0.63482 -4.875303,-0.63482 -5.228242,0 -10.528275,3.60266 -15.8978223,10.80916 -3.3206407,4.45107 -5.9684222,9.32607 -7.94667622,14.62497 -1.97825398,5.22825 -2.96854738,10.03295 -2.96854738,14.41336 0,4.45107 1.2356313,8.12405 3.70844888,11.02078 2.47281752,2.82608 5.61798102,4.24072 9.43318522,4.24072 3.3912928,0 6.8894928,-1.37779 10.4927428,-4.13321 3.038032,-2.33151 6.92368,-7.10105 11.65736,-14.30755 2.614121,-3.95651 5.298547,-5.93532 8.053973,-5.93532 2.260862,0 3.886175,1.34264 4.875303,4.02741 0.989127,2.68478 1.482037,7.20654 1.482037,13.56522 10e-7,9.04344 -0.245337,19.74771 -0.739901,32.11179 -0.494564,12.29344 -1.026354,21.19465 -1.59157,26.7055 -0.635868,6.21737 -1.481817,10.42106 -2.541595,12.61126 -0.989128,2.19022 -2.827605,3.67518 -5.512378,4.45235 -4.38042,1.34238 -6.888328,2.18947 -7.524195,2.54273 -2.54347,1.62499 -3.815745,3.88672 -3.815745,6.78345 0,5.36955 3.569255,9.25515 10.705099,11.65732 8.478232,2.89672 21.478508,4.34483 39.000186,4.34483 14.271691,0 24.832879,-1.23718 31.686119,-3.71 6.92389,-2.47281 10.38544,-6.25296 10.38544,-11.3399 0,-2.54347 -0.70607,-4.52057 -2.11911,-5.93361 -1.34239,-1.48369 -3.92135,-3.03895 -7.73656,-4.66395 -3.53259,-1.48369 -5.93504,-3.60311 -7.206771,-6.35853 -1.271735,-2.75543 -1.906755,-7.17003 -1.906755,-13.24609 l 0,-59.34803 c 0,-5.01629 0.566201,-8.62066 1.696632,-10.81087 1.130434,-2.19021 3.001084,-3.28508 5.615204,-3.28508 1.9076,0 3.53292,0.67133 4.8753,2.01371 1.34239,1.34239 3.17863,4.20344 5.51015,8.58385 2.68477,4.80433 5.40584,8.26639 8.16127,10.38595 2.75542,2.04891 6.00605,3.07346 9.7506,3.07346 3.95651,0 7.34701,-1.0597 10.17309,-3.17927 3.74455,-2.82607 5.61743,-7.31268 5.61743,-13.45941 0,-8.97279 -2.72107,-17.69824 -8.16127,-26.17647 -5.36954,-8.47824 -10.91492,-12.71707 -16.63772,-12.71707 z m 302.24864,0 c -1.62498,0 -3.49788,0.28292 -5.61743,0.84815 -4.94564,1.41303 -10.41996,2.22497 -16.42537,2.43692 l -55.85027,0 c -3.17934,0 -6.00587,-0.14061 -8.47868,-0.42322 -2.40217,-0.28261 -5.51069,-0.81331 -9.3259,-1.59049 -1.83694,-0.42391 -3.46226,-0.63482 -4.8753,-0.63482 -5.22825,0 -10.52604,3.60266 -15.89559,10.80916 -3.32064,4.45107 -5.97065,9.32607 -7.94891,14.62497 -1.97825,5.22825 -2.96854,10.03295 -2.96854,14.41336 0,4.45107 1.23785,8.12405 3.71068,11.02078 2.47281,2.82608 5.61574,4.24072 9.43095,4.24072 3.39129,0 6.88949,-1.37779 10.49274,-4.13321 3.03803,-2.33151 6.92368,-7.10105 11.65736,-14.30755 2.61412,-3.95651 5.29855,-5.93532 8.05398,-5.93532 2.26086,0 3.88617,1.34264 4.87529,4.02741 0.98913,2.68478 1.48428,7.20654 1.48428,13.56522 0,9.04344 -0.24757,19.74771 -0.74214,32.11179 -0.49457,12.29344 -1.02412,21.19465 -1.58933,26.7055 -0.63587,6.21737 -1.48405,10.42106 -2.54383,12.61126 -0.98913,2.19022 -2.82761,3.67518 -5.51239,4.45235 -4.38041,1.34238 -6.88832,2.18947 -7.52418,2.54273 -2.54348,1.62499 -3.81352,3.88672 -3.81352,6.78345 0,5.36955 3.56702,9.25515 10.70287,11.65732 8.47823,2.89672 21.47851,4.34483 39.00019,4.34483 14.27168,0 24.83287,-1.23718 31.68611,-3.71 6.92389,-2.47281 10.38768,-6.25296 10.38768,-11.3399 0,-2.54347 -0.70831,-4.52057 -2.12135,-5.93361 -1.34239,-1.48369 -3.92136,-3.03895 -7.73655,-4.66395 -3.5326,-1.48369 -5.93281,-3.60311 -7.20455,-6.35853 -1.27172,-2.75543 -1.90898,-7.17003 -1.90898,-13.24609 l 0,-59.34803 c 0,-5.01629 0.5662,-8.62066 1.69663,-10.81087 1.13044,-2.19021 3.00109,-3.28508 5.61521,-3.28508 1.90759,0 3.53291,0.67133 4.87529,2.01371 1.3424,1.34239 3.18087,4.20344 5.51238,8.58385 2.68477,4.80433 5.40361,8.26639 8.15904,10.38595 2.75542,2.04891 6.00605,3.07346 9.75061,3.07346 3.9565,0 7.347,-1.0597 10.17308,-3.17927 3.74454,-2.82607 5.61744,-7.31268 5.61744,-13.45941 0,-8.97279 -2.72107,-17.69824 -8.16127,-26.17647 -5.36955,-8.47824 -10.91492,-12.71707 -16.63773,-12.71707 z m 351.63427,0.31912 c -17.09775,0 -31.58123,4.98046 -43.45076,14.94238 -5.29889,4.30977 -9.39548,9.43255 -12.2922,15.36732 -2.89674,5.8641 -4.34553,11.90427 -4.34553,18.12165 0,12.57604 5.58202,23.80929 16.74502,33.70057 4.59238,4.02716 9.53715,7.38376 14.83603,10.06853 5.2989,2.61413 12.99915,5.51033 23.10237,8.68966 5.7228,1.7663 9.85602,3.67309 12.39949,5.722 2.54347,2.0489 3.81576,4.4864 3.81576,7.31249 0,3.03803 -1.62532,5.54754 -4.87531,7.5258 -3.24998,1.9076 -7.48867,2.86013 -12.71692,2.86013 -6.07606,0 -11.97447,-1.30576 -17.69728,-3.91989 -5.65215,-2.61412 -9.78538,-5.90042 -12.39949,-9.85692 -5.51085,-8.40758 -9.00905,-13.38805 -10.49275,-14.94239 -2.47282,-2.75542 -5.05178,-4.13321 -7.73656,-4.13321 -2.68476,0 -4.91069,1.13001 -6.67699,3.39087 -1.41304,1.7663 -2.11911,4.38127 -2.11911,7.84322 0,7.20649 1.34332,14.62446 4.0281,22.25486 2.75543,7.55977 5.8273,12.46992 9.2186,14.73078 4.45106,2.89673 11.69281,5.43969 21.72538,7.6299 10.03258,2.11956 19.57129,3.17927 28.61474,3.17927 20.27711,0 36.70453,-4.875 49.28056,-14.62497 12.29345,-9.53802 18.43942,-21.83098 18.43942,-36.87985 0,-17.02711 -9.00916,-29.92109 -27.0254,-38.68193 -4.09781,-1.97825 -13.45777,-5.12223 -28.08273,-9.43199 -10.80973,-3.1087 -16.21524,-7.73591 -16.21524,-13.88263 0,-3.10869 1.16682,-5.6165 3.49832,-7.5241 2.40217,-1.9076 5.57951,-2.86185 9.53603,-2.86185 8.19561,0 16.53311,3.95591 25.01134,11.86892 6.00541,5.58151 9.89106,8.93811 11.65737,10.06853 1.76629,1.13044 4.06327,1.6963 6.88935,1.6963 3.39129,-10e-6 6.25223,-1.34265 8.58375,-4.02742 2.40217,-2.75543 3.60339,-6.11202 3.60339,-10.06853 0,-6.78259 -2.65002,-13.91762 -7.94892,-21.40673 -5.22824,-7.4891 -10.20741,-11.23409 -14.94108,-11.23409 -1.27174,0 -2.47297,0.21091 -3.60339,0.63483 -3.53261,1.27173 -5.65306,1.90791 -6.35958,1.90791 -0.84782,0 -1.97799,-0.21093 -3.39103,-0.63484 -11.79888,-3.60324 -21.33759,-5.40458 -28.61475,-5.40458 z m -108.52186,0.74063 c -9.04344,0 -17.97932,0.88395 -26.81081,2.65025 -7.41845,1.41304 -12.61302,3.03691 -15.5804,4.87385 -2.89673,1.7663 -4.34329,4.16865 -4.34329,7.20668 0,1.97825 0.49292,3.60383 1.48204,4.87556 0.98912,1.27173 2.93307,2.86215 5.8298,4.76975 3.74455,2.33152 6.11035,4.94479 7.09947,7.84151 1.83696,5.08694 2.7562,16.67344 2.7562,34.76033 0,26.14122 -0.67168,43.23888 -2.01406,51.2932 -0.63586,3.6739 -2.68527,6.5718 -6.14721,8.69136 -4.52173,2.75543 -6.78206,5.72193 -6.78206,8.90127 0,8.76084 11.51707,13.14199 34.5496,13.14199 13.49451,0 24.90389,-1.13001 34.22994,-3.39088 8.61954,-2.11955 12.92927,-6.00686 12.92927,-11.65902 0,-4.02715 -2.33138,-7.09911 -6.99441,-9.21868 -2.54348,-1.27173 -4.3453,-2.43861 -5.40508,-3.49838 -0.98913,-1.13043 -1.72962,-2.71914 -2.22418,-4.76805 -1.34238,-6.42933 -2.01404,-23.1386 -2.01404,-50.12764 0,-15.96733 0.49514,-26.70675 1.48426,-32.2176 1.05979,-5.51085 3.21465,-9.07837 6.46464,-10.70336 3.88586,-1.97825 6.2883,-3.46321 7.20677,-4.45234 0.98914,-1.05978 1.48204,-2.61333 1.48204,-4.66224 0,-6.21737 -4.80264,-10.28045 -14.41131,-12.18805 -7.13584,-1.41303 -14.73286,-2.11951 -22.78718,-2.11951 z m -126.11185,0.42493 c -2.68478,0 -7.3842,0.24607 -14.09613,0.74064 -10.59779,0.84782 -19.07516,1.27307 -25.43383,1.27307 -3.81521,0 -6.60733,-0.072 -8.37363,-0.21332 -9.32605,-0.70652 -15.15341,-1.05975 -17.48492,-1.05975 -5.2989,0 -9.46877,0.38838 -12.5068,1.16555 -3.60324,0.91848 -6.42978,2.36829 -8.47869,4.34654 -1.97825,1.9076 -2.96631,4.16763 -2.96631,6.78175 0,1.97826 0.52956,3.60383 1.58933,4.87556 1.05977,1.20109 3.1436,2.54373 6.25228,4.02741 3.25,1.625 5.37045,4.20311 6.35959,7.73571 0.98912,3.53259 1.48427,10.20894 1.48427,20.02956 0,30.94553 -0.17652,48.92715 -0.52978,53.94344 -0.42391,6.85323 -1.20104,11.69308 -2.33148,14.51917 -1.05978,2.75541 -3.14583,5.15777 -6.25451,7.20667 -2.75543,1.83696 -4.52061,3.28505 -5.29778,4.34483 -0.77717,0.98913 -1.16686,2.33177 -1.16686,4.02741 0,9.89127 13.07133,14.83658 39.21255,14.83658 14.05973,0 24.02254,-0.95425 29.88665,-2.86185 5.93476,-1.97825 8.90117,-5.2997 8.90117,-9.96273 0,-3.81521 -2.11822,-6.88717 -6.35734,-9.21868 -1.97825,-1.13043 -3.32158,-2.08469 -4.02811,-2.86185 -0.70651,-0.77717 -1.23607,-1.87203 -1.58933,-3.28507 -1.13042,-5.01629 -1.69663,-12.01071 -1.69663,-20.9835 0,-5.93477 0.35303,-9.71491 1.05956,-11.3399 0.77717,-1.62499 2.50795,-2.43693 5.19272,-2.43693 4.66303,0.21196 8.23227,1.69521 10.7051,4.45063 2.54346,2.75543 4.62728,7.48811 6.25228,14.20005 2.54347,10.45648 4.73275,18.15738 6.5697,23.10301 1.90761,4.94564 4.20458,9.04386 6.88935,12.29385 5.93476,7.27715 15.78988,10.91668 29.56701,10.91668 10.31517,0 18.44174,-1.37779 24.37651,-4.13322 2.68477,-1.27173 4.87405,-3.00277 6.5697,-5.19297 1.69564,-2.26087 2.54383,-4.48745 2.54383,-6.67766 0,-1.69564 -0.45851,-3.21405 -1.37698,-4.55644 -0.91847,-1.41303 -2.04864,-2.33213 -3.39103,-2.75605 -4.38042,-1.27173 -7.17255,-2.57751 -8.37363,-3.91989 -1.20109,-1.41305 -2.11808,-4.45156 -2.75395,-9.11459 -1.48369,-11.23365 -3.95719,-19.57072 -7.41914,-25.01092 -3.46194,-5.44019 -8.90185,-9.50326 -16.32029,-12.18803 -3.46195,-1.27174 -5.19273,-2.93076 -5.19273,-4.97966 0,-1.55434 1.13016,-2.89699 3.39103,-4.02742 5.4402,-2.68477 9.71329,-6.67753 12.82197,-11.97643 3.1087,-5.36955 4.66295,-11.30426 4.66295,-17.80424 0,-11.65757 -4.44961,-20.77141 -13.35175,-27.34204 -9.89128,-7.27715 -22.39641,-10.91497 -37.51592,-10.91497 z m -17.06243,22.89141 c 9.67931,0 14.5186,6.81695 14.5186,20.45277 0,7.06519 -1.41439,12.22312 -4.24047,15.47312 -2.82608,3.17933 -7.34674,4.76804 -13.56411,4.76804 -2.26087,0 -3.78072,-0.42354 -4.55788,-1.27136 -0.70652,-0.84783 -1.05955,-2.54371 -1.05955,-5.08717 l 0,-0.95395 1.16685,-24.6918 c 0.14131,-3.24999 0.77632,-5.51173 1.90676,-6.78346 1.13042,-1.27173 3.07437,-1.90619 5.8298,-1.90619 z");
        logo.node.setAttribute("class", "logo");

        var logoWidth = logo.getBBox().width;
        var logoHeight = logo.getBBox().height;
        var rectClick = r.rect(width / 2 - logoWidth / 2, 120, logoWidth, logoHeight).attr({
            fill: 'black'
        }).toBack();

        logo.translate(width / 2 - logoWidth / 2, -200);
        $('.logo').delay(4100).show(0);

        rectClick.attr({
            cursor: 'pointer'
        }).click(function () {
            $('svg').hide();
            startGame();
            Tetris.sounds['theme'].pause();
            Tetris.sounds['gameStart'].play();
        });
    });
}());